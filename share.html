<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†äº«ä½ å˜…å·¥ä½œ CP å€¼</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="share.css">
</head>
<body>
    <header>
        <h1><i class="fas fa-share-alt"></i> æˆ‘å˜…å·¥ä½œ CP å€¼å ±å‘Š</h1>
        <p>åŒæœ‹å‹åˆ†äº«ä½ å˜…å·¥ä½œè©•ä¼°çµæœï¼</p>
    </header>
    <div class="container">
        <div class="card result-card">
            <h2><i class="fas fa-chart-bar"></i> è©•ä¼°çµæœ</h2>
            <div class="score-circle">
                <span id="worth"></span>
            </div>
            <h3 id="result"></h3>
            <div class="result-description" id="result-description"></div>
            <div class="share-buttons">
                <button onclick="shareToSocial('facebook')"><i class="fab fa-facebook"></i> åˆ†äº«åˆ° Facebook</button>
                <button onclick="shareToSocial('twitter')"><i class="fab fa-twitter"></i> åˆ†äº«åˆ° Twitter</button>
                <button onclick="copyLink()"><i class="fas fa-link"></i> è¤‡è£½é€£çµ</button>
            </div>
        </div>
        <div class="card">
            <h2><i class="fas fa-list"></i> æˆ‘å˜…é¸æ“‡</h2>
            <div id="user-report"></div>
        </div>
        <div class="card">
            <h2><i class="fas fa-info-circle"></i> çµæœè§£é‡‹</h2>
            <p>å‘¢å€‹å·¥ä½œ CP å€¼å¾—åˆ†ä¿‚åŸºæ–¼å¤šé …å› ç´ è¨ˆç®—ï¼ŒåŒ…æ‹¬å·¥ä½œæ™‚æ•¸ã€é€šå‹¤æ™‚é–“ã€å¹´å‡ã€å·¥ä½œç’°å¢ƒã€å£“åŠ›ã€è·æ¥­ç™¼å±•æ©Ÿæœƒç­‰ã€‚ä»¥ä¸‹ä¿‚å¾—åˆ†å˜…è©•ç´šæ¨™æº–ï¼š</p>
            <ul>
                <li><strong>1-30 åˆ†ï¼šç¤¾è“„ç”Ÿæ´»</strong> - ä½ å˜…å·¥ä½œå¯èƒ½å¥½è¾›è‹¦ï¼ŒCP å€¼å¥½ä½ï¼Œå»ºè­°è€ƒæ…®æµæ–°æ©Ÿæœƒã€‚</li>
                <li><strong>31-50 åˆ†ï¼šå¥½è¾›è‹¦ (ğŸ˜“)</strong> - å·¥ä½œè² æ“”é‡ï¼Œå ±é…¬åŒä»˜å‡ºå””æˆæ­£æ¯”ï¼Œå¯ä»¥åŒè€ç´°å‚¾å“æ”¹å–„æ¢ä»¶ã€‚</li>
                <li><strong>51-70 åˆ†ï¼šæ­£å¸¸å•¦ (ğŸ˜)</strong> - å·¥ä½œåŒå ±é…¬ç®—å¹³è¡¡ï¼Œä½†ä»²æœ‰é€²æ­¥ç©ºé–“ã€‚</li>
                <li><strong>71-85 åˆ†ï¼šå¹¾å¥½ (ğŸ˜Š)</strong> - å·¥ä½œ CP å€¼å””éŒ¯ï¼Œå€¼å¾—ç¹¼çºŒåŠªåŠ›ã€‚</li>
                <li><strong>86-95 åˆ†ï¼šå¥½æ­£å˜…å·¥ä½œ (ğŸ˜)</strong> - æ­å–œï¼ä½ å˜…å·¥ä½œ CP å€¼å¥½é«˜ï¼Œä¿‚ä¸€å€‹å¥½æ­£å˜…é¸æ“‡ã€‚</li>
                <li><strong>96-100 åˆ†ï¼šä½ ä¸Šä¸–æ•‘å®‡å®™ (ğŸ¤©)</strong> - ä½ å˜…å·¥ä½œä¿‚å¤¢æƒ³ç´šåˆ¥ï¼Œç¹¼çºŒä¿æŒï¼</li>
            </ul>
        </div>
        <div class="card">
            <h2><i class="fas fa-home"></i> è¿”å»ä¸»é </h2>
            <p>æƒ³å†è©¦å“ï¼Ÿè¿”å»ä¸»é é‡æ–°è©•ä¼°ä½ å˜…å·¥ä½œï¼</p>
            <button onclick="window.location.href='index.html'"><i class="fas fa-arrow-left"></i> è¿”å»ä¸»é </button>
        </div>
    </div>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const worth = parseFloat(urlParams.get('worth')).toFixed(1);
        const result = decodeURIComponent(urlParams.get('result'));
        const reportData = JSON.parse(decodeURIComponent(urlParams.get('data')));

        document.getElementById('worth').innerText = worth;
        document.getElementById('result').innerText = result;

        let description = '';
        if (worth <= 30) {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼å¥½ä½ï¼Œå¯èƒ½ä¿‚ä¸€å€‹ã€Œç¤¾è“„ç”Ÿæ´»ã€ã€‚å»ºè­°ä½ é‡æ–°å¯©è¦–å·¥ä½œæ¢ä»¶ï¼Œæˆ–è€…è€ƒæ…®æµæ–°æ©Ÿæœƒï¼';
        } else if (worth <= 50) {
            description = 'ä½ å˜…å·¥ä½œå¥½è¾›è‹¦ï¼Œå ±é…¬åŒä»˜å‡ºå””æˆæ­£æ¯”ã€‚è©¦å“åŒè€ç´°å‚¾æ”¹å–„æ¢ä»¶ï¼Œæˆ–è€…æµæ–°å˜…ç™¼å±•æ©Ÿæœƒï¼';
        } else if (worth <= 70) {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼æ­£å¸¸ï¼Œå””ç®—å·®ï¼Œä½†ä»²æœ‰é€²æ­¥ç©ºé–“ã€‚å¯ä»¥è€ƒæ…®é»æ¨£æå‡å·¥ä½œç’°å¢ƒæˆ–è€…çˆ­å–æ›´å¥½å˜…å¾…é‡ï¼';
        } else if (worth <= 85) {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼å¹¾å¥½ï¼Œå ±é…¬åŒä»˜å‡ºæ¯”è¼ƒå¹³è¡¡ã€‚ç¹¼çºŒåŠªåŠ›ï¼Œæˆ–è€…æµæ–¹æ³•å†æå‡è‡ªå·±ï¼';
        } else if (worth <= 95) {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼å¥½é«˜ï¼Œä¿‚ä¸€å€‹å¥½æ­£å˜…é¸æ“‡ï¼ç¹¼çºŒä¿æŒï¼ŒåŒæ™‚å¯ä»¥æµæ›´å¤šç™¼å±•æ©Ÿæœƒï¼';
        } else {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼ä¿‚å¤¢æƒ³ç´šåˆ¥ï¼Œç°¡ç›´ä¿‚å®Œç¾ï¼ç¹¼çºŒäº«å—ä½ å˜…å·¥ä½œï¼ŒåŒæ™‚åˆ†äº«ä½ å˜…ç¶“é©—ç•€å…¶ä»–äººï¼';
        }
        document.getElementById('result-description').innerText = description;

        // é¡¯ç¤ºç”¨æˆ¶å ±å‘Šï¼ˆéæ¿¾è–ªé…¬è³‡æ–™ï¼‰
        const userReport = `
            <table>
                <tr><th>é …ç›®</th><th>è³‡æ–™</th></tr>
                <tr><td><i class="fas fa-calendar-week"></i> æ¯é€±å·¥ä½œå¤©æ•¸</td><td>${reportData.workDaysPerWeek} å¤©</td></tr>
                <tr><td><i class="fas fa-home"></i> æ¯é€±åœ¨å®¶å·¥ä½œå¤©æ•¸</td><td>${reportData.wfhDaysPerWeek} å¤©</td></tr>
                <tr><td><i class="fas fa-clock"></i> æ¯æ—¥å·¥ä½œæ™‚æ•¸</td><td>${reportData.hoursPerDay} å°æ™‚</td></tr>
                <tr><td><i class="fas fa-utensils"></i> é£Ÿé£¯æ™‚é–“</td><td>${reportData.lunchTime} å°æ™‚</td></tr>
                <tr><td><i class="fas fa-car"></i> å–®ç¨‹é€šå‹¤æ™‚é–“</td><td>${reportData.commute} å°æ™‚</td></tr>
                <tr><td><i class="fas fa-ticket-alt"></i> æ¯æ—¥è»Šè²»</td><td>${reportData.transportCost} HKD</td></tr>
                <tr><td><i class="fas fa-umbrella-beach"></i> å¹´å‡æ—¥æ•¸</td><td>${reportData.annualLeave} å¤©</td></tr>
                <tr><td><i class="fas fa-building"></i> å·¥ä½œç’°å¢ƒ</td><td>${workEnvText[reportData.workEnvScore]}</td></tr>
                <tr><td><i class="fas fa-users"></i> åŒäº‹ç’°å¢ƒ</td><td>${colleagueEnvText[reportData.colleagueEnvScore]}</td></tr>
                <tr><td><i class="fas fa-exclamation-circle"></i> å·¥ä½œå£“åŠ›</td><td>${workStressText[reportData.workStressScore]}</td></tr>
                <tr><td><i class="fas fa-chart-line"></i> è·æ¥­ç™¼å±•æ©Ÿæœƒ</td><td>${careerGrowthText[reportData.careerGrowthScore]}</td></tr>
                <tr><td><i class="fas fa-toilet"></i> å…¬å¸å»æ‰€æ¸…æ½”åº¦</td><td>${toiletCleanlinessText[reportData.toiletCleanlinessScore]}</td></tr>
                <tr><td><i class="fas fa-user-tie"></i> è€ç´°æ…‹åº¦</td><td>${bossAttitudeText[reportData.bossAttitudeScore]}</td></tr>
                <tr><td><i class="fas fa-heartbeat"></i> æœ‰ç„¡é†«ç™‚ä¿éšª</td><td>${medicalInsuranceText[reportData.medicalInsurance]}</td></tr>
                <tr><td><i class="fas fa-briefcase"></i> è¡Œæ¥­</td><td>${industryText[reportData.industry]}</td></tr>
                <tr><td><i class="fas fa-graduation-cap"></i> å­¸æ¥­æ°´æº–</td><td>${educationText[reportData.educationScore]}</td></tr>
                <tr><td><i class="fas fa-briefcase"></i> å·¥ä½œç¶“é©—</td><td>${reportData.experience} å¹´</td></tr>
                <tr><td><i class="fas fa-university"></i> å¤§å­¸é¡å‹</td><td>${uniTypeText[reportData.uniTypeScore]}</td></tr>
            </table>
        `;
        document.getElementById('user-report').innerHTML = userReport;

        function shareToSocial(platform) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(`æˆ‘å˜…å·¥ä½œ CP å€¼ä¿‚ ${worth} åˆ† - ${result}ï¼å¿«å•²è©¦å“ä½ å˜…å·¥ä½œé»æ¨£ï¼`);
            let shareUrl;
            if (platform === 'facebook') {
                shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`;
            } else if (platform === 'twitter') {
                shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
            }
            window.open(shareUrl, '_blank');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert('é€£çµå·²è¤‡è£½ï¼å¿«å•²åŒæœ‹å‹åˆ†äº«ï¼');
            });
        }
    </script>
</body>
</html>