<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†äº«ä½ å˜…å·¥ä½œ CP å€¼</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="share.css">
</head>
<body>
    <header>
        <h1><i class="fas fa-share-alt"></i> æˆ‘å˜…å·¥ä½œ CP å€¼å ±å‘Š</h1>
        <p>åŒæœ‹å‹åˆ†äº«ä½ å˜…å·¥ä½œè©•ä¼°çµæœï¼</p>
    </header>
    <div class="container">
        <div class="card result-card">
            <h2><i class="fas fa-chart-bar"></i> è©•ä¼°çµæœ</h2>
            <div class="score-circle">
                <span id="worth"></span>
            </div>
            <h3 id="result"></h3>
            <div class="result-description" id="result-description"></div>
            <div class="share-buttons">
                <button onclick="shareToSocial('facebook')"><i class="fab fa-facebook"></i> åˆ†äº«åˆ° Facebook</button>
                <button onclick="shareToSocial('twitter')"><i class="fab fa-twitter"></i> åˆ†äº«åˆ° Twitter</button>
                <button onclick="copyLink()"><i class="fas fa-link"></i> è¤‡è£½é€£çµ</button>
            </div>
        </div>
        <div class="card">
            <h2><i class="fas fa-list"></i> æˆ‘å˜…é¸æ“‡</h2>
            <div id="user-report"></div>
        </div>
        <div class="card">
            <h2><i class="fas fa-globe"></i> é¦™æ¸¯å¹³å‡æ•¸æ“šæ¯”è¼ƒ</h2>
            <div id="comparison-report"></div>
        </div>
        <div class="card">
            <h2><i class="fas fa-info-circle"></i> çµæœè§£é‡‹</h2>
            <p>å‘¢å€‹å·¥ä½œ CP å€¼å¾—åˆ†ä¿‚åŸºæ–¼å¤šé …å› ç´ è¨ˆç®—ï¼ŒåŒ…æ‹¬å·¥ä½œæ™‚æ•¸ã€é€šå‹¤æ™‚é–“ã€å¹´å‡ã€å·¥ä½œç’°å¢ƒã€å£“åŠ›ã€è·æ¥­ç™¼å±•æ©Ÿæœƒç­‰ã€‚ä»¥ä¸‹ä¿‚å¾—åˆ†å˜…è©•ç´šæ¨™æº–ï¼š</p>
            <ul>
                <li><strong>1-20 åˆ†ï¼šç•œç”Ÿæ´»</strong> - ä½ å˜…å·¥ä½œå¯èƒ½å¥½è¾›è‹¦ï¼ŒCP å€¼å¥½ä½ï¼Œå»ºè­°è€ƒæ…®æµæ–°æ©Ÿæœƒã€‚</li>
                <li><strong>21-40 åˆ†ï¼šå¥½è¾›è‹¦ (ğŸ˜“)</strong> - å·¥ä½œè² æ“”é‡ï¼Œå ±é…¬åŒä»˜å‡ºå””æˆæ­£æ¯”ï¼Œå¯ä»¥åŒè€ç´°å‚¾å“æ”¹å–„æ¢ä»¶ã€‚</li>
                <li><strong>41-60 åˆ†ï¼šæ­£å¸¸å•¦ (ğŸ˜)</strong> - å·¥ä½œåŒå ±é…¬ç®—å¹³è¡¡ï¼Œä½†ä»²æœ‰é€²æ­¥ç©ºé–“ã€‚</li>
                <li><strong>61-80 åˆ†ï¼šå¹¾å¥½ (ğŸ˜Š)</strong> - å·¥ä½œ CP å€¼å””éŒ¯ï¼Œå€¼å¾—ç¹¼çºŒåŠªåŠ›ã€‚</li>
                <li><strong>81-95 åˆ†ï¼šå¥½æ­£å˜…å·¥ä½œ (ğŸ˜)</strong> - æ­å–œï¼ä½ å˜…å·¥ä½œ CP å€¼å¥½é«˜ï¼Œä¿‚ä¸€å€‹å¥½æ­£å˜…é¸æ“‡ã€‚</li>
                <li><strong>96-100 åˆ†ï¼šä½ ä¸Šä¸–æ‹¯æ•‘éå®‡å®™ (ğŸ¤©)</strong> - ä½ å˜…å·¥ä½œä¿‚å¤¢æƒ³ç´šåˆ¥ï¼Œç¹¼çºŒä¿æŒï¼</li>
            </ul>
        </div>
        <div class="card">
            <h2><i class="fas fa-home"></i> è¿”å»ä¸»é </h2>
            <p>æƒ³å†è©¦å“ï¼Ÿè¿”å»ä¸»é é‡æ–°è©•ä¼°ä½ å˜…å·¥ä½œï¼</p>
            <button onclick="window.location.href='index.html'"><i class="fas fa-arrow-left"></i> è¿”å»ä¸»é </button>
        </div>
    </div>
    <script>
        // æ–‡å­—æ˜ å°„
        const workEnvText = { 5: "ç”²ç´šå¯«å­—æ¨“", 4: "æ™®é€šå•†æ¥­å¤§æ¨“/åœ¨å®¶å·¥ä½œ", 3: "å·¥æ¥­å¤§å»ˆ", 2: "å·¥å» " };
        const colleagueEnvText = { 1: "å…¨éƒ¨éƒ½ä¿‚PK", 2: "å¥½å¤š Free Rider", 3: "èæ°´ç›¸é€¢", 4: "é–‹å¿ƒå·¥ä½œ", 5: "Friend éå¤¾band" };
        const workStressText = { 1: "å®Œå…¨ç„¡å£“åŠ›", 2: "å£“åŠ›å°‘", 3: "ä¸€èˆ¬å£“åŠ›", 4: "å£“åŠ›å¤§", 5: "æ¥µå¤§å£“åŠ›" };
        const careerGrowthText = { 1: "å®Œå…¨ç„¡æ©Ÿæœƒ", 2: "æ©Ÿæœƒå°‘", 3: "ä¸€èˆ¬æ©Ÿæœƒ", 4: "æ©Ÿæœƒå¤š", 5: "æ¥µå¤šæ©Ÿæœƒ" };
        const toiletCleanlinessText = { 1: "å¥½æ±¡ç³Ÿ", 2: "ä¸€èˆ¬æ±¡ç³Ÿ", 3: "éº»éº»åœ°", 4: "ä¹¾æ·¨", 5: "è¶…ç´šä¹¾æ·¨" };
        const bossAttitudeText = { 1: "åƒåœ¾è€ç´°", 2: "å¥½åš´æ ¼", 3: "éº»éº»åœ°", 4: "Okayå•¦", 5: "éå¸¸å¥½" };
        const medicalInsuranceText = { 0: "ç„¡", 1: "æœ‰" };
        const industryText = { finance: "é‡‘è", education: "æ•™è‚²", retail: "é›¶å”®", it: "è³‡è¨Šç§‘æŠ€", others: "å…¶ä»–" };
        const educationText = { 1: "å¤§å°ˆ", 2: "å¤§å­¸ç”Ÿ", 3: "ç¢©å£«", 4: "åšå£«" };
        const uniTypeText = { 1: "å¤§å°ˆ", 2: "ç§å¤§ï¼ˆæ¨¹ä»/æ’å¤§ï¼‰", 3: "å…«å¤§", 4: "æµ·æ­¸ï¼ˆå¤–åœ‹å‡å­¸ï¼‰" };

        // é¦™æ¸¯å¹³å‡æ•¸æ“šï¼ˆæ¨¡æ“¬ API æ•¸æ“šï¼‰
        const hkStats = {
            avgHoursPerDay: 8.7,
            avgStressLevel: 3.2,
            avgAnnualLeave: 10,
            avgCommuteTime: 0.8,
            avgTransportCost: 30
        };

        // å¾ URL ç²å– worth åŒ result
        const urlParams = new URLSearchParams(window.location.search);
        const worth = parseFloat(urlParams.get('worth')).toFixed(1);
        const result = decodeURIComponent(urlParams.get('result'));

        // å¾ localStorage ç²å–å ±å‘Šæ•¸æ“š
        const reportData = JSON.parse(localStorage.getItem('reportData'));

        // æª¢æŸ¥å ±å‘Šæ•¸æ“šæ˜¯å¦å­˜åœ¨
        if (!reportData) {
            document.getElementById('user-report').innerHTML = '<p>æœªèƒ½è¼‰å…¥å ±å‘Šæ•¸æ“šï¼Œè«‹è¿”å›ä¸»é é‡æ–°è©•ä¼°ï¼</p>';
            document.getElementById('comparison-report').innerHTML = '<p>æœªèƒ½è¼‰å…¥æ¯”è¼ƒæ•¸æ“šï¼Œè«‹è¿”å›ä¸»é é‡æ–°è©•ä¼°ï¼</p>';
            return;
        }

        document.getElementById('worth').innerText = worth;
        document.getElementById('result').innerText = result;

        let description = '';
        if (worth <= 20) {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼å¥½ä½ï¼Œå¯èƒ½ä¿‚ä¸€å€‹ã€Œç•œç”Ÿæ´»ã€ã€‚å»ºè­°ä½ é‡æ–°å¯©è¦–å·¥ä½œæ¢ä»¶ï¼Œæˆ–è€…è€ƒæ…®æµæ–°æ©Ÿæœƒï¼';
        } else if (worth <= 40) {
            description = 'ä½ å˜…å·¥ä½œå¥½è¾›è‹¦ï¼Œå ±é…¬åŒä»˜å‡ºå””æˆæ­£æ¯”ã€‚è©¦å“åŒè€ç´°å‚¾æ”¹å–„æ¢ä»¶ï¼Œæˆ–è€…æµæ–°å˜…ç™¼å±•æ©Ÿæœƒï¼';
        } else if (worth <= 60) {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼æ­£å¸¸ï¼Œå””ç®—å·®ï¼Œä½†ä»²æœ‰é€²æ­¥ç©ºé–“ã€‚å¯ä»¥è€ƒæ…®é»æ¨£æå‡å·¥ä½œç’°å¢ƒæˆ–è€…çˆ­å–æ›´å¥½å˜…å¾…é‡ï¼';
        } else if (worth <= 80) {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼å¹¾å¥½ï¼Œå ±é…¬åŒä»˜å‡ºæ¯”è¼ƒå¹³è¡¡ã€‚ç¹¼çºŒåŠªåŠ›ï¼Œæˆ–è€…æµæ–¹æ³•å†æå‡è‡ªå·±ï¼';
        } else if (worth <= 95) {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼å¥½é«˜ï¼Œä¿‚ä¸€å€‹å¥½æ­£å˜…é¸æ“‡ï¼ç¹¼çºŒä¿æŒï¼ŒåŒæ™‚å¯ä»¥æµæ›´å¤šç™¼å±•æ©Ÿæœƒï¼';
        } else {
            description = 'ä½ å˜…å·¥ä½œ CP å€¼ä¿‚å¤¢æƒ³ç´šåˆ¥ï¼Œç°¡ç›´ä¿‚å®Œç¾ï¼ç¹¼çºŒäº«å—ä½ å˜…å·¥ä½œï¼ŒåŒæ™‚åˆ†äº«ä½ å˜…ç¶“é©—ç•€å…¶ä»–äººï¼';
        }
        document.getElementById('result-description').innerText = description;

        // é¡¯ç¤ºç”¨æˆ¶å ±å‘Šï¼ˆéæ¿¾è–ªé…¬è³‡æ–™ï¼‰
        const userReport = `
            <table>
                <tr><th>é …ç›®</th><th>è³‡æ–™</th></tr>
                <tr><td><i class="fas fa-calendar-week"></i> æ¯é€±å·¥ä½œå¤©æ•¸</td><td>${reportData.workDaysPerWeek} å¤©</td></tr>
                <tr><td><i class="fas fa-home"></i> æ¯é€±åœ¨å®¶å·¥ä½œå¤©æ•¸</td><td>${reportData.wfhDaysPerWeek} å¤©</td></tr>
                <tr><td><i class="fas fa-clock"></i> æ¯æ—¥å·¥ä½œæ™‚æ•¸</td><td>${reportData.hoursPerDay} å°æ™‚</td></tr>
                <tr><td><i class="fas fa-utensils"></i> é£Ÿé£¯æ™‚é–“</td><td>${reportData.lunchTime} å°æ™‚</td></tr>
                <tr><td><i class="fas fa-car"></i> å–®ç¨‹é€šå‹¤æ™‚é–“</td><td>${reportData.commute} å°æ™‚</td></tr>
                <tr><td><i class="fas fa-ticket-alt"></i> æ¯æ—¥è»Šè²»</td><td>${reportData.transportCost} HKD</td></tr>
                <tr><td><i class="fas fa-umbrella-beach"></i> å¹´å‡æ—¥æ•¸</td><td>${reportData.annualLeave} å¤©</td></tr>
                <tr><td><i class="fas fa-building"></i> å·¥ä½œç’°å¢ƒ</td><td>${workEnvText[reportData.workEnvScore]}</td></tr>
                <tr><td><i class="fas fa-users"></i> åŒäº‹ç’°å¢ƒ</td><td>${colleagueEnvText[reportData.colleagueEnvScore]}</td></tr>
                <tr><td><i class="fas fa-exclamation-circle"></i> å·¥ä½œå£“åŠ›</td><td>${workStressText[reportData.workStressScore]}</td></tr>
                <tr><td><i class="fas fa-chart-line"></i> è·æ¥­ç™¼å±•æ©Ÿæœƒ</td><td>${careerGrowthText[reportData.careerGrowthScore]}</td></tr>
                <tr><td><i class="fas fa-toilet"></i> å…¬å¸å»æ‰€æ¸…æ½”åº¦</td><td>${toiletCleanlinessText[reportData.toiletCleanlinessScore]}</td></tr>
                <tr><td><i class="fas fa-user-tie"></i> è€ç´°æ…‹åº¦</td><td>${bossAttitudeText[reportData.bossAttitudeScore]}</td></tr>
                <tr><td><i class="fas fa-heartbeat"></i> æœ‰ç„¡é†«ç™‚ä¿éšª</td><td>${medicalInsuranceText[reportData.medicalInsurance]}</td></tr>
                <tr><td><i class="fas fa-briefcase"></i> è¡Œæ¥­</td><td>${industryText[reportData.industry]}</td></tr>
                <tr><td><i class="fas fa-graduation-cap"></i> å­¸æ¥­æ°´æº–</td><td>${educationText[reportData.educationScore]}</td></tr>
                <tr><td><i class="fas fa-briefcase"></i> å·¥ä½œç¶“é©—</td><td>${reportData.experience} å¹´</td></tr>
                <tr><td><i class="fas fa-university"></i> å¤§å­¸é¡å‹</td><td>${uniTypeText[reportData.uniTypeScore]}</td></tr>
            </table>
        `;
        document.getElementById('user-report').innerHTML = userReport;

        // é¦™æ¸¯å¹³å‡æ•¸æ“šæ¯”è¼ƒ
        const hoursComparison = reportData.hoursPerDay > hkStats.avgHoursPerDay 
            ? `é«˜æ–¼é¦™æ¸¯å¹³å‡ (${hkStats.avgHoursPerDay} å°æ™‚) ${((reportData.hoursPerDay - hkStats.avgHoursPerDay) / hkStats.avgHoursPerDay * 100).toFixed(1)}%`
            : reportData.hoursPerDay < hkStats.avgHoursPerDay 
            ? `ä½æ–¼é¦™æ¸¯å¹³å‡ (${hkStats.avgHoursPerDay} å°æ™‚) ${((hkStats.avgHoursPerDay - reportData.hoursPerDay) / hkStats.avgHoursPerDay * 100).toFixed(1)}%`
            : "ç­‰æ–¼é¦™æ¸¯å¹³å‡";

        const minAnnualLeave = reportData.experience <= 2 ? 7 : reportData.experience <= 4 ? 8 : reportData.experience <= 9 ? 10 : 14;
        const leaveComparison = reportData.annualLeave > minAnnualLeave 
            ? `é«˜æ–¼é¦™æ¸¯æ³•å®šæ¨™æº– (${minAnnualLeave} å¤©) ${((reportData.annualLeave - minAnnualLeave) / minAnnualLeave * 100).toFixed(1)}%`
            : reportData.annualLeave < minAnnualLeave 
            ? `ä½æ–¼é¦™æ¸¯æ³•å®šæ¨™æº– (${minAnnualLeave} å¤©) ${((minAnnualLeave - reportData.annualLeave) / minAnnualLeave * 100).toFixed(1)}%`
            : "ç­‰æ–¼é¦™æ¸¯æ³•å®šæ¨™æº–";

        const stressComparison = reportData.workStressScore > hkStats.avgStressLevel 
            ? `é«˜æ–¼é¦™æ¸¯å¹³å‡å£“åŠ›æ°´å¹³ (${hkStats.avgStressLevel}/5)`
            : reportData.workStressScore < hkStats.avgStressLevel 
            ? `ä½æ–¼é¦™æ¸¯å¹³å‡å£“åŠ›æ°´å¹³ (${hkStats.avgStressLevel}/5)`
            : "ç­‰æ–¼é¦™æ¸¯å¹³å‡å£“åŠ›æ°´å¹³";

        const commuteComparison = reportData.commute > hkStats.avgCommuteTime 
            ? `é«˜æ–¼é¦™æ¸¯å¹³å‡ (${hkStats.avgCommuteTime} å°æ™‚) ${((reportData.commute - hkStats.avgCommuteTime) / hkStats.avgCommuteTime * 100).toFixed(1)}%`
            : reportData.commute < hkStats.avgCommuteTime 
            ? `ä½æ–¼é¦™æ¸¯å¹³å‡ (${hkStats.avgCommuteTime} å°æ™‚) ${((hkStats.avgCommuteTime - reportData.commute) / hkStats.avgCommuteTime * 100).toFixed(1)}%`
            : "ç­‰æ–¼é¦™æ¸¯å¹³å‡";

        const transportCostComparison = reportData.transportCost > hkStats.avgTransportCost 
            ? `é«˜æ–¼é¦™æ¸¯å¹³å‡ (${hkStats.avgTransportCost} HKD) ${((reportData.transportCost - hkStats.avgTransportCost) / hkStats.avgTransportCost * 100).toFixed(1)}%`
            : reportData.transportCost < hkStats.avgTransportCost 
            ? `ä½æ–¼é¦™æ¸¯å¹³å‡ (${hkStats.avgTransportCost} HKD) ${((hkStats.avgTransportCost - reportData.transportCost) / hkStats.avgTransportCost * 100).toFixed(1)}%`
            : "ç­‰æ–¼é¦™æ¸¯å¹³å‡";

        const comparisonReport = `
            <table>
                <tr><th>é …ç›®</th><th>æ¯”è¼ƒ</th></tr>
                <tr><td><i class="fas fa-clock"></i> æ¯æ—¥å·¥ä½œæ™‚æ•¸</td><td>${hoursComparison}ï¼ˆé¦™æ¸¯å¹³å‡æ•¸æ“šï¼š${hkStats.avgHoursPerDay} å°æ™‚ï¼Œä¾†æºï¼šé¦™æ¸¯çµ±è¨ˆè™• 2024 å¹´å ±å‘Šï¼‰</td></tr>
                <tr><td><i class="fas fa-umbrella-beach"></i> å¹´å‡æ—¥æ•¸</td><td>${leaveComparison}ï¼ˆé¦™æ¸¯å¹³å‡æ•¸æ“šï¼š${hkStats.avgAnnualLeave} å¤©ï¼Œä¾†æºï¼šé¦™æ¸¯å‹å·¥è™• 2024 å¹´å ±å‘Šï¼‰</td></tr>
                <tr><td><i class="fas fa-exclamation-circle"></i> å·¥ä½œå£“åŠ›</td><td>${stressComparison}ï¼ˆé¦™æ¸¯å¹³å‡æ•¸æ“šï¼š${hkStats.avgStressLevel}/5ï¼Œä¾†æºï¼šé¦™æ¸¯æ”¿åºœå¥åº·ç½² 2024 å¹´å ±å‘Šï¼‰</td></tr>
                <tr><td><i class="fas fa-car"></i> å–®ç¨‹é€šå‹¤æ™‚é–“</td><td>${commuteComparison}ï¼ˆé¦™æ¸¯å¹³å‡æ•¸æ“šï¼š${hkStats.avgCommuteTime} å°æ™‚ï¼Œä¾†æºï¼šé¦™æ¸¯é‹è¼¸ç½² 2024 å¹´å ±å‘Šï¼‰</td></tr>
                <tr><td><i class="fas fa-ticket-alt"></i> æ¯æ—¥è»Šè²»</td><td>${transportCostComparison}ï¼ˆé¦™æ¸¯å¹³å‡æ•¸æ“šï¼š${hkStats.avgTransportCost} HKDï¼Œä¾†æºï¼šé¦™æ¸¯é‹è¼¸ç½² 2024 å¹´å ±å‘Šï¼‰</td></tr>
            </table>
        `;
        document.getElementById('comparison-report').innerHTML = comparisonReport;

        function shareToSocial(platform) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(`æˆ‘å˜…å·¥ä½œ CP å€¼ä¿‚ ${worth} åˆ† - ${result}ï¼å¿«å•²è©¦å“ä½ å˜…å·¥ä½œé»æ¨£ï¼`);
            let shareUrl;
            if (platform === 'facebook') {
                shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`;
            } else if (platform === 'twitter') {
                shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
            }
            window.open(shareUrl, '_blank');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert('é€£çµå·²è¤‡è£½ï¼å¿«å•²åŒæœ‹å‹åˆ†äº«ï¼');
            });
        }
    </script>
</body>
</html>